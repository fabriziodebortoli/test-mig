<div>{{caption}}</div>

<kendo-maskedtextbox [(ngModel)]="model.value" [ngStyle]="inputStyle()" (focus)="onFocus()" (blur)="onBlur($event)" [disabled]="enableMultiSelection || !model.enabled"></kendo-maskedtextbox>

<button kendoButton #anchor (click)="onOptionsClick()" [icon]="'more-vertical'" [disabled]="!model.enabled"></button>
<kendo-popup [anchor]="anchor" (blur)="showOptions = false" *ngIf="showOptions" (anchorViewportLeave)="closeOptions()">
    <div class="searchOptions">
        Search for:
        <br>
        <div *ngFor="let item of selectionTypes" [ngClass]="{'elemSelected': item===selectionType, 'selTypeElem':true}" (click)="SeletctionTypeChanged(item)">
            {{item}}
        </div>


        <!-- <mat-radio-group [(ngModel)]="selectionType">
            <mat-radio-button *ngFor="let item of selectionTypes" [value]="item">{{item}}</mat-radio-button>
        </mat-radio-group> -->
    </div>
</kendo-popup>

<button kendoButton (click)="onSearchClick()" [icon]="'search'" [disabled]="!model.enabled"></button>

<div #anchorTable></div>
<kendo-popup [anchor]="anchorTable" (anchorViewportLeave)="closeTable()" *ngIf="showTable" [ngStyle]="popupStyle()">
    <div class="hotlinkGrid">
        <kendo-grid [data]="data.rows" [selectable]="true" (selectionChange)="selectionChanged($event)" [scrollable]="'scrollable'"
            [height]="300">
            <kendo-grid-column *ngIf="enableMultiSelection" [width]="50" [headerClass]="{'tableHeader':true}">
                <ng-template kendoGridCellTemplate let-dataItem>
                    <input type="checkbox" [checked]="dataItem.Selected" (change)="onRowChecked($event, dataItem)" />
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column *ngFor="let col of data.columns" field="{{col.id}}" [width]="130" title="{{col.id}}" [headerClass]="{'tableHeader':true}" >
                <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                    <div class="hotlinkGrodCell">
                        {{getValue(dataItem[col.id], col)}}
                    </div>
                </ng-template>
            </kendo-grid-column>
        </kendo-grid>
    </div>
</kendo-popup>