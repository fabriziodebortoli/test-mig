<div *ngIf="easystudioService.easyStudioActivation()" class="esContainer">

    <div class="appAndModule" *ngIf="contextIsValid()">
        <div class="ebButtons">
            {{_TB('Current Application')}} :
            <b>{{easystudioService.currentApplication}}</b>
        </div>

        <div class="ebButtons">
            {{_TB('Current Module')}} :
            <b>{{easystudioService.currentModule}}</b>
        </div>
    </div>
    <div class="ebButtons topBarMenuComponentLike">
        <m4-icon icon="tb-inscription" (click)="changeCustomizationContext()" matTooltip="{{openCustomizationContext}}" matTooltipShowDelay="500"></m4-icon>
    </div>
    <div *ngIf="!contextIsValid()" class="ebButtons topBarMenuComponentLike">
        <m4-icon icon="tb-favorites" (click)="openDefaultContextMethod()" matTooltip="{{_TB('Open Default Context')}}" matTooltipShowDelay="500"></m4-icon>
    </div>
    <div *ngIf="contextIsValid()" class="ebButtons topBarMenuComponentLike">
        <m4-icon icon="tb-closewindows-2" (click)="close()" matTooltip="{{closeCustomizationContext}}" matTooltipShowDelay="500"></m4-icon>
    </div>

    <kendo-dialog *ngIf="opened" kendoRippleContainer (close)="cancel()">
        <kendo-dialog-titlebar>
            <div class="title">
                {{title}}
            </div>
        </kendo-dialog-titlebar>
        <div class="central">
            <nav>
                <div class=" list8">
                    <h1 class="tit">{{_TB('Applications')}}</h1>
                    <ul *ngFor="let app of easystudioService.getApplications()">
                        <li id="{{app}}" [ngClass]="{'selected': applicSelected === app}">
                            <span (click)="setApplic(app);">{{app}}</span>
                        </li>
                    </ul>
                </div>
            </nav>
            <article id="article" *ngIf="applicSelected !== undefined">
                <div class=" list8">
                    <h1 class="tit">{{_TB('Modules')}}</h1>
                    <ul *ngFor="let mod of easystudioService.getModules()">
                        <li id="{{mod}}" [ngClass]="{'selected': moduleSelected === mod}">
                            <span (click)="setModule(mod)">{{mod}}</span>
                        </li>
                    </ul>
                </div>
            </article>
        </div>

        <div *ngIf="!newPairVisible" class="pushbutton">
            <kendo-textbox-container>
                <label [for]="applicationChosen1">{{_TB('Selected application')}}</label>
                <input kendoTextBox #applicationChosen1 [(ngModel)]="applicSelected" />
            </kendo-textbox-container>
            <kendo-textbox-container>
                <label [for]="moduleChosen1">{{_TB('Selected module')}}</label>
                <input kendoTextBox #moduleChosen1 [(ngModel)]="moduleSelected" />
            </kendo-textbox-container>
            <m4-icon class="pushB" icon="tb-add2" (click)="showNewPair(true)" matTooltip="{{_TB('Insert new application name')}}" matTooltipShowDelay="500"></m4-icon>
            <m4-icon class="pushB" icon="{{wantSetPairAsDefault || isDefault ? 'tb-favoritespin' : 'tb-favorites'}}" (click)="setDefaultContext()"></m4-icon>
        </div>
        <div *ngIf="newPairVisible" class="pushbutton selected">
            <kendo-textbox-container class="textBoxCentral">
                <label class="selected" [for]="applicationChosen">{{_TB('Insert new application name')}}</label>
                <input kendoTextBox #applicationChosen [(ngModel)]="newApplic" />
            </kendo-textbox-container>
            <kendo-textbox-container class="textBoxCentral">
                <label class="selected" [for]="moduleChosen">{{_TB('Insert new module name')}}</label>
                <input kendoTextBox #moduleChosen [(ngModel)]="newModule" />
            </kendo-textbox-container>
            <m4-icon class="pushB" icon="tb-closewindows" (click)="showNewPair(false)" matTooltip="{{_TB('Close')}}" matTooltipShowDelay="500"></m4-icon>
            <m4-icon class="pushB" icon="tb-select" (click)="addNewPair(newApplic, newModule)" matTooltip="{{_TB('Ok') }}" matTooltipShowDelay="500"></m4-icon>
        </div>

        <kendo-dialog-actions>
            <button kendoButton (click)="refresh()">{{_TB('Refresh') }}</button>
            <button kendoButton (click)="ok()" [disabled]="!selectionIsValid() || newPairVisible">{{_TB('Ok')}}</button>
            <button kendoButton (click)="cancel()">{{_TB('Cancel') }}</button>
        </kendo-dialog-actions>
    </kendo-dialog>
</div>