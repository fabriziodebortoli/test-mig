<!-- #begin dialogs -->
<admin-dialog [mode]="'fields'" [title]="'Change password'" [message]="''"
  [(fields)]=changePasswordFields [(opened)]=openChangePasswordDialog [(result)]=changePasswordResult (onClose)="onCloseChangePasswordDialog($event)"></admin-dialog>
<!-- #end dialogs -->

<div class="container">
  <h2 class="componentTitle">Account {{model.AccountName}}</h2>

  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
      <div class="adminTile tileNormal">
        Main Data
        <div>
          <admin-input-text [inputLabel]="'Account Name'" [textType]="'email'" [readOnly]=editing [(inputData)]="model.AccountName"></admin-input-text>
        </div>
        <div>
          <admin-input-text *ngIf="!editing" [inputLabel]="'Password'" [textType]="'password'" [readOnly]=editing [(inputData)]="model.Password"></admin-input-text>
          <div class="mt20">
            <admin-button *ngIf="editing && editingCurrentLoggedAccount" [buttonText]="'Change Password'" class="left-margin-label" (click)="doChangePassword()"></admin-button>
            <admin-button *ngIf="editing && !editingCurrentLoggedAccount" [buttonText]="'Reset Password'" class="left-margin-label" (click)="doResetPassword()"></admin-button>
          </div>
        </div>
        <div class="mt10">
          <admin-checkbox [checkId]="'chkPswExpires'" [checkText]="'Password never expires'" [(checkValue)]="model.PasswordNeverExpires"
            (inputDataChange)="model.PasswordNeverExpires = $event"></admin-checkbox>
        </div>
        <div>
          <admin-input-text [inputLabel]="'Full Name'" [textType]="'text'" [(inputData)]="model.FullName"></admin-input-text>
        </div>
      </div>
    </div>
    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
      <div class="adminTile tileNormal">
        Roles And Security
        <div class="mt20">
          <admin-checkbox [checkId]="'chkBoxProvAdmin'" [checkText]="'Provisioning Administrator'" [(checkValue)]="model.ProvisioningAdmin"
            (inputDataChange)="model.ProvisioningAdmin = $event"></admin-checkbox>
        </div>
        <div class="mt20">
          <admin-checkbox [checkId]="'chkBoxInstanceAdmin'" [checkText]="'Instance Administrator'"></admin-checkbox>
        </div>
        <div class="mt20">
          <admin-checkbox [checkId]="'chkBoxDisabled'" [checkText]="'Disabled'" [(checkValue)]="model.Disabled" (inputDataChange)="model.Disabled = $event"></admin-checkbox>
        </div>
        <div class="mt20">
          <admin-checkbox [checkId]="'chkBoxLocked'" [checkText]="'Locked'" [(checkValue)]="model.Locked" (inputDataChange)="model.Locked = $event"></admin-checkbox>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
      <div class="adminTile half-tile">
        Notes
        <div>
          <admin-textarea [inputLabel]="'Notes'" [(inputData)]="model.Notes"></admin-textarea>
        </div>
      </div>
    </div>

    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
      <div class="adminTile half-tile">
        Regional Settings
        <div class="mt20">
          <admin-dropdown [inputLabel]="'Language'" [(selectedValue)]="model.Language" [listItems]="languages" [textField]="'name'"
            [valueField]="'value'"></admin-dropdown>
        </div>
        <div class="mt20">
          <admin-dropdown [inputLabel]="'Regional Settings'" [(selectedValue)]="model.RegionalSettings" [listItems]="regionalSettings" [textField]="'name'"
            [valueField]="'value'"></admin-dropdown>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <div class="adminTile tileNormal">
        Subscriptions
        <div class="pt30">
          <app-account-subscriptions [editAccountName]="model.AccountName" [subscriptions]="subscriptionsAccount"></app-account-subscriptions>
        </div>
      </div>
    </div>
  </div>

  <div class="row center-xs center-sm end-lg">
    <div class="col-xs-12 col-sm-8 col-md-6 col-lg-4">
      <img *ngIf="saving" src="assets/ajax-loader.gif" />
      <admin-button *ngIf="!saving" class="mt40" [buttonText]="'Save'" [primary]=true (click)="submitAccount()"></admin-button>
    </div>
  </div>
</div>