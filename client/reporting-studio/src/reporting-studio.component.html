<tb-frame>
    <iframe id="iframe" style="display:none;"></iframe>
    <tb-toolbar-top>
        <div class="toolbar-menu">
            <div class="menu-category search">
                <tb-toolbar-top-button icon="tb-find" [caption]="_TB('Search')"></tb-toolbar-top-button>
            </div>

            <div class="menu-category navigation">
                <tb-toolbar-top-button icon="tb-first" [caption]="_TB('First')" (click)="firstPage()" ></tb-toolbar-top-button>
                <tb-toolbar-top-button icon="tb-prev" [caption]="_TB('Previous Page')" (click)="prevPage()" ></tb-toolbar-top-button>
                <tb-toolbar-top-button icon="tb-next" [caption]="_TB('Next Page')" (click)="nextPage()" ></tb-toolbar-top-button>
                <tb-toolbar-top-button icon="tb-last" [caption]="_TB('Last')" (click)="lastPage()"></tb-toolbar-top-button>
            </div>

            <div class="menu-category esecution">
                <tb-toolbar-top-button icon="tb-startreport" [caption]="_TB('Run Report')" (click)="reRunReport()" [disabled]="!rsService.runEnabled"></tb-toolbar-top-button>
                <tb-toolbar-top-button icon="tb-stopreport" [caption]="_TB('Stop Report')" (click)="stopReport()" [disabled]="rsService.runEnabled"></tb-toolbar-top-button>
            </div>

            <div> <label class="snapshotToolbarTop" *ngIf="runningReport">Snapshot: {{this.rsExportService.nameSnap}} - {{this.rsExportService.dateSnap | date:"dd/MM/yyyy HH:mm:ss"}}</label> </div>
        </div>

        <div class="toolbar-right">
            <div class="menu-category exit">
                <tb-toolbar-top-button icon="tb-exit" [caption]="_TB('Exit')" (click)="closeReport()"></tb-toolbar-top-button>
            </div>
        </div>
    </tb-toolbar-top>

    <tb-frame-content>
        <tb-view-container>
            <tb-view>
                <rs-askdialog *ngIf="rsService.showAsk" [ask]="askDialogTemplate"></rs-askdialog>
                <div id="{{id}}">
                    <rs-layout [reportTemplate]="reportTemplate" [reportData]="reportData"></rs-layout>
                </div>
            </tb-view>
        </tb-view-container>
        <tb-dockpane-container>
            <tb-dockpane [title]="_TB('Properties')" iconType="M4" icon="tb-options">
                <ng-template>
                    <tb-view>
                        <p>Properties</p>
                    </tb-view>
                </ng-template>
            </tb-dockpane>
            <tb-dockpane [title]="_TB('Page Info')" iconType="M4" icon="tb-info">
                <ng-template>
                    <tb-view>
                        <p>Page Info</p>
                    </tb-view>
                </ng-template>
            </tb-dockpane>
        </tb-dockpane-container>
    </tb-frame-content>
    
    <tb-toolbar-bottom >        
        <!--tb-toolbar-bottom-button id="firstButton" *ngIf="!runningReport" [caption]="_TB('Snapshot Report')" (click)="startSnapshot()"></tb-toolbar-bottom-button-->
        <tb-toolbar-bottom-button id="firstButton" [caption]="_TB('Snapshot Report')" (click)="startSnapshot()"></tb-toolbar-bottom-button>

        <tb-toolbar-bottom-button-dropup icon="tb-sortupfilled" [caption]="_TB('Print')"  class="toolbar-bottom">
            <tb-toolbar-bottom-button icon="tb-exportpdf"  [caption]="_TB('Download as PDF')" (click)="setExportFile(rsExportService.pdf)" class="dropUpButton"></tb-toolbar-bottom-button>
         </tb-toolbar-bottom-button-dropup>

        <tb-toolbar-bottom-button-dropup icon="tb-sortupfilled" [caption]="_TB('Export')"  class="toolbar-bottom">
            <tb-toolbar-bottom-button  icon="exporttopng"[caption]="_TB('Export as PNG')" (click)="startSavePNG()" class="dropUpButton"></tb-toolbar-bottom-button>
            <tb-toolbar-bottom-button  icon="exporttosvg"[caption]="_TB('Export as SVG')" (click)="startSaveSVG()" class="dropUpButton"></tb-toolbar-bottom-button>
            <tb-toolbar-bottom-button icon="tb-exporttoexcel" *ngIf="!runningReport" [caption]="_TB('Export as Excel')" (click)="setExportFile(rsExportService.excel)" class="dropUpButton"></tb-toolbar-bottom-button>
            <tb-toolbar-bottom-button  icon="exporttodocx" [caption]="_TB('Export as DocX')" (click)="setExportFile(rsExportService.docx)" class="dropUpButton"></tb-toolbar-bottom-button>
         </tb-toolbar-bottom-button-dropup>

        <rs-exportdialog *ngIf="rsExportService.exportfile"> </rs-exportdialog>
        <rs-snapshotdialog *ngIf="rsExportService.snapshot"></rs-snapshotdialog>
    </tb-toolbar-bottom>
</tb-frame>


<div id="testdiv" style="height: 1in; left: -100%; position: absolute; top: -100%; width: 1in;"></div>
<!--NO REFACTORING!! NON TOCCARE! -->