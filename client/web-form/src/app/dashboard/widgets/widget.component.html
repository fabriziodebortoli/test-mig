<md-card class="widget">
    <md-card-header *ngIf="widget.layout.style !== 'stats'" class="widget-header">
        <md-card-title class="widget-title">
            <md-icon class="widget-icon widget-icon-menu">more_vert</md-icon>
            <h4>{{widget.title}}</h4>
        </md-card-title>
        <md-card-subtitle *ngIf="widget.subtitle" class="widget-subtitle">
            {{widget.subtitle}}
        </md-card-subtitle>
        <span class="widget-spacer"></span>
        <md-icon *ngIf="widget.link" class="widget-icon">link</md-icon>
    </md-card-header>
    <md-card-content #cardContent class="widget-content">
        <md-spinner *ngIf="isLoading" class="widget-spinner"></md-spinner>
        <div class="widget-content-area" *ngIf="!isLoading">
            <tb-widget-stats *ngIf="widget.layout.style === 'stats'" [widget]="widget"></tb-widget-stats>
            <tb-widget-grid *ngIf="widget.layout.style === 'grid'" [widget]="widget"></tb-widget-grid>
            <tb-widget-chart *ngIf="widget.layout.style === 'chart'" [widget]="widget"></tb-widget-chart>
        </div>
    </md-card-content>
    <md-card-footer class="widget-footer">
        <hr class="widget-hr" />
        <div class="widget-footer-elements">
            <md-icon class="widget-icon" (click)="onRefreshClicked()">refresh</md-icon>
            <span class="widget-timestamp">{{widget.data?.lastExecuted}}</span>
            <span class="widget-spacer"></span>
            <md-icon class="widget-icon">settings</md-icon>
        </div>
    </md-card-footer>
</md-card>