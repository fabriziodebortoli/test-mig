if not exists (select * from dbo.sysobjects where id = object_id(N'[dbo].[@(TableName)]') and OBJECTPROPERTY(id, N'IsUserTable') = 1)
BEGIN
CREATE TABLE [dbo].[@(TableName)] (
@(RepeatOnColumns{\t[@(ColumnName)] @(ColumnDBFullDataType)@(IfIsAutoIncrement{ IDENTITY(@(Seed),@(Increment))})@(IfIsCollateSensitive{ COLLATE Latin1_General_CI_AS}) @(ColumnDBNullableAttribute)@(IfDefaultConstraintNameExist{ CONSTRAINT @(ColumnDefaultConstraintName)})@(IfHasDefaultValue{ DEFAULT(@(ColumnDBDefaultValue))}), ",\r\n"})@(IfConstraintDefined{,})
@(IfPrimaryKeyDefined{\tCONSTRAINT [@(TablePrimaryKeyConstraintName)] PRIMARY KEY @(IfPKNonClustered{NONCLUSTERED}) })
@(IfPrimaryKeyDefined{(})
@(IfPrimaryKeyDefined{@(RepeatOnPrimaryKeySegments{\t[@(ColumnName)], ",\r\n"})})
@(IfPrimaryKeyDefined{\t)ON [PRIMARY]})@(RepeatOnForeignKeys{@(IfPrimaryKeyDefined{,})\n@(+)
\tCONSTRAINT [@(ConstraintName)] FOREIGN KEY \n(\n@(+)
        \t\t@(RepeatOnForeignKeySegments{[@(ColumnName)], ",\r\n"})\n@(+)
    \t) REFERENCES [dbo].[@(ReferencedTableName)] (\n@(+)
        \t\t@(RepeatOnForeignKeySegments{[@(ReferencedColumnName)], ",\r\n"})\n@(+)
    \t)@(IfDeleteCascade{ ON DELETE CASCADE})@(IfUpdateCascade{ ON UPDATE CASCADE})@(IfCommaNeeded{,})})
) ON [PRIMARY]
@(IfIndexDefined{@(RepeatOnIndex {CREATE @(IfIndexUnique{UNIQUE})@( IfIndexClustered{CLUSTERED}) INDEX [@(IndexName)] ON [dbo].[@(TableName)] (@(RepeatOnIndexSegments {[@(ColumnName)], ","})) ON [PRIMARY] , "\r\n"})})
END
GO
