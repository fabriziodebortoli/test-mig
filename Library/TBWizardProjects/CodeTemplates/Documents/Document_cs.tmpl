using System;
using Microarea.TaskBuilderNet.Interfaces;
using Microarea.Framework.TBApplicationWrapper;
using Microarea.TaskBuilderNet.Interfaces.Model;
using Microarea.TaskBuilderNet.Model;

namespace @(ApplicationName).@(ModuleName).@(LibrarySourceFolder)
{
    //================================================================================================================
	public class @(DocumentClassName) : MAbstractFormDoc
	{
		private @(MasterDBTClassName) _@(MasterDBTClassName);

		@(RepeatOnDBTSlaves{ private @(DBTClassName) _@(DBTClassName);, "\r\n"})

        //-----------------------------------------------------------------------------------------------
		public @(DocumentClassName) (System.IntPtr wrappedObject) :
				base(wrappedObject)
		{
		}

        //-----------------------------------------------------------------------------------------------
		public virtual  @(MasterDBTClassName)  @(MasterDBTClassName)
			{
				get
				{
					return _@(MasterDBTClassName);
				}
			}

		//-----------------------------------------------------------------------------------------------
		@(RepeatOnDBTSlaves{public virtual @(DBTClassName) @(DBTClassName) { get { return _@(DBTClassName); }}, "\r\n"})

		//-----------------------------------------------------------------------------------------------
		public override void CreateComponents()
		{
			_@(MasterDBTClassName) = new @(MasterDBTClassName)(this);
			this.AttachMaster(this._@(MasterDBTClassName));
    
			@(RepeatOnDBTSlaves{@(+)
			_@(DBTClassName) = new @(DBTClassName)(this);\n@(+)
				this.AttachSlave(_@(DBTClassName));\n@(+)
				@(RepeatOnForeignKeySegments{ _@(DBTClassName).AddMasterForeignKey(_@(DBTClassName).T@(TableClassName).f_@(ColumnName), "@(ColumnName)");, "\r\n"})@(+)
			, "\r\n"})
		}

		//-----------------------------------------------------------------------------------------------
		public override void ApplyResources()
		{
			// Microarea.EasyBuilder.CustomizationComponentResourceManager resources = Strings.ResourceManager;
		}

		//-----------------------------------------------------------------------------------------------
		public override void ClearComponents()
		{
			base.ClearComponents();
		}
	}
}


