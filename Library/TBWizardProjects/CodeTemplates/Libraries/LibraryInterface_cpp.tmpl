//=============================================================================
// Module name  : @(LibraryName)Interface.cpp
//=============================================================================

#include "stdafx.h" 

@(DeleteDuplicatedLines(@(+)
@(RepeatOnTables{#include <@(ModuleName)\@(LibrarySourceFolder)\@(TableClassName).h>, "\r\n"})\n@(+)
@(RepeatOnDocuments{#include <@(ModuleName)\@(LibrarySourceFolder)\@(DocumentClassName).h>\n#include <@(ModuleName)\@(LibrarySourceFolder)\@(DocumentViewFileName).h>, "\r\n"})\n@(+)
@(RepeatOnClientDocuments{@(+)
@(IsSlaveFormViewToCreate(#include <@(ModuleName)\@(LibrarySourceFolder)\@(ClientDocumentViewFileName).h>\n))@(+)
@(RepeatOnTabbedPanes{@(IfDBTSlaveBuffered(@(IfCreateRowForm(#include <@(ModuleName)\@(LibrarySourceFolder)\@(ClientDocumentViewFileName).h>\n)))), "\r\n"})@(+)
#include <@(ModuleName)\@(LibrarySourceFolder)\@(ClientDocumentClassName).h>\n@(+)
, "\r\n"})@(+)
@(IfDefinesAdditionalColumns{@(RepeatOnAdditionalColumnsInfo{#include <@(ModuleName)\@(LibrarySourceFolder)\@(AdditionalColumnsClassName).h>, "\r\n"})})@(+)
))

//TBWIZ-INJECT{@(LibraryName)Interface(IncludeFiles)
//TBWIZ-INJECT}

#ifdef _DEBUG
#undef THIS_FILE
static char THIS_FILE[] = __FILE__;
#endif

/////////////////////////////////////////////////////////////////////////////
//					Add-On Interface Definition
/////////////////////////////////////////////////////////////////////////////
#define _AddOn_Interface_Of @(LibraryNameLower)

@(IfTrapDSNChangedEvent{@(+)
//-----------------------------------------------------------------------------\n@(+)
BOOL OnDSNChanged (FunctionDataInterface* pRDI)\n@(+)
{\n@(+)
\t//YOUR CODE HERE\n@(+)
\treturn TRUE;\n@(+)
}\n@(+)
})
@(IfTrapApplicationDateChangedEvent{@(+)
//-----------------------------------------------------------------------------\n@(+)
BOOL OnApplicationDateChanged (FunctionDataInterface* pRDI)\n@(+)
{\n@(+)
\t//YOUR CODE HERE\n@(+)
\treturn TRUE;\n@(+)
}\n@(+)
})
//-----------------------------------------------------------------------------
BEGIN_ADDON_INTERFACE()

	BEGIN_FUNCTIONS()
@(IfTrapDSNChangedEvent(\t\tREGISTER_EVENT_HANDLER (_NS_EH("OnDSNChanged"), OnDSNChanged)))
@(IfTrapApplicationDateChangedEvent(\t\tREGISTER_EVENT_HANDLER (_NS_EH("ApplicationDateChanged"), OnApplicationDateChanged)))
	END_FUNCTIONS()

@(IfDefinesTables{@(+)
\tDATABASE_RELEASE(@(DatabaseRelease))\n@(+)
\n@(+)
\tBEGIN_TABLES()\n@(+)
\t\tBEGIN_REGISTER_TABLES()\n@(+)
@(RepeatOnTables{\t\t\tREGISTER_TABLE (@(TableClassName)), "\r\n"})\n@(+)
\t\tEND_REGISTER_TABLES()\n@(+)
\tEND_TABLES()\n@(+)
})
	BEGIN_HOTLINK()
@(RepeatOnTables{@(IfHKLDefined(\t\tDECLARE_HOTLINK	(@(TableHKLClassName), _NS_HKL("@(TableHKLName)")))), "\r\n"})
@(RepeatOnDocuments{@(IfHKLDefined(\t\tDECLARE_HOTLINK	(@(DocumentHKLClassName), _NS_HKL("@(DocumentHKLName)")))), "\r\n"})
	END_HOTLINK ()

	BEGIN_TEMPLATE()
@(RepeatOnDocuments{@(+)
\t\tBEGIN_DOCUMENT (_NS_DOC("@(DocumentName)"), TPL_NO_PROTECTION)\n@(+)
	\t\t\tREGISTER_MASTER_TEMPLATE (szDefaultViewMode, @(DocumentClassName), @(IfNotBatchDocument(CMasterFrame))@(IfBatchDocument(CBatchFrame)), @(DocumentViewClassName))\n@(+)
		@(RepeatOnTabbedPanes{@(IfDBTSlaveBuffered{@(_NOEMPTYLINES:IfCreateRowForm{@(+)
		\t\t\t\tREGISTER_SLAVE_TEMPLATE(@(DocumentClassName), CRowFormFrame, C@(DocumentName)@(TabbedPaneName)BodyEditRowView)\n@(+)
		})}), "\r\n"})@(+)
	\t\t\tREGISTER_BKGROUND_TEMPLATE (szUnattendedViewMode, @(DocumentClassName))\n@(+)
\t\tEND_DOCUMENT ()\n@(+)
, "\r\n"@(+)
})
@(_NOEMPTYLINES:RepeatOnClientDocuments{@(+)
@(IsSlaveFormViewToCreate(\t\tREGISTER_BASE_TEMPLATE (@(ServerDocumentClassName), CSlaveFrame, @(ClientDocumentViewClassName))\n))@(+)
@(RepeatOnTabbedPanes{@(IfDBTSlaveBuffered(@(IfCreateRowForm(\n\t\tREGISTER_BASE_TEMPLATE (@(ServerDocumentClassName), CRowFormFrame, C@(ClientDocumentName)@(TabbedPaneName)BodyEditRowView))))\n), "\r\n"})@(+)
, "\r\n"})
	END_TEMPLATE()

@(IfDefinesClientDocuments{@(+)
@(IfDefinesDirectClientDocuments{@(+)
\tBEGIN_CLIENT_DOC()\n@(+)
@(RepeatOnDirectServerDocuments{@(+)
\t\tWHEN_SERVER_DOC(@(ServerDocumentClassName))\n@(+)
@(RepeatOnAttachedClientDocuments{@(+)
@(IfAttachedDirectly(@(+)
@(IfExcludeUnattededMode(\t\t\tATTACH_CLIENT_DOC_EXCLUDE_UNATTENDED_MODE(@(ClientDocumentClassName), _NS_CD("@(ClientDocumentName)"))))@(+)
@(IfIncludeUnattededMode(\t\t\tATTACH_CLIENT_DOC(@(ClientDocumentClassName), _NS_CD("@(ClientDocumentName)"))))@(+)
\n))@(+)
, "\r\n"@(+)
})@(+)
\t\tEND_SERVER_DOC()\n@(+)
, "\r\n"@(+)
})@(+)
\tEND_CLIENT_DOC()\n@(+)
})@(+)
@(IfDefinesFamilyClientDocuments{@(+)
\tBEGIN_FAMILY_CLIENT_DOC()\n@(+)
@(RepeatOnServerDocuments{@(+)
@(RepeatOnAttachedClientDocuments{@(+)
@(IfAttachedToFamily{@(+)
\t\tWHEN_FAMILY_SERVER_DOC(@(ServerDocumentFamilyClassName))\n@(+)
@(IfExcludeUnattededMode(@(+)
	@(IfExcludeBatch(@(+)
	\t\t\tATTACH_FAMILY_CLIENT_DOC_EXCLUDE_UNATTENDED_BATCH_MODE(@(ClientDocumentClassName), _NS_CD("@(ClientDocumentName)"))\n@(+)
	))@(+)
	@(IfIncludeBatch(@(+)
	\t\t\tATTACH_FAMILY_CLIENT_DOC_EXCLUDE_UNATTENDED_MODE(@(ClientDocumentClassName), _NS_CD("@(ClientDocumentName)"))\n@(+)
	))@(+)
))@(+)
@(IfIncludeUnattededMode(@(+)
	@(IfExcludeBatch(@(+)
	\t\t\tATTACH_FAMILY_CLIENT_DOC_EXCLUDE_BATCH_MODE(@(ClientDocumentClassName), _NS_CD("@(ClientDocumentName)"))\n@(+)
	))@(+)
	@(IfIncludeBatch(@(+)
	\t\t\tATTACH_FAMILY_CLIENT_DOC(@(ClientDocumentClassName), _NS_CD("@(ClientDocumentName)"))\n@(+)
	))@(+)
))@(+)
\t\tEND_SERVER_DOC()\n@(+)
})@(+)
, "\r\n"@(+)
})@(+)
, "\r\n"@(+)
})@(+)
\tEND_FAMILY_CLIENT_DOC()\n@(+)
})@(+)
})
@(IfDefinesAdditionalColumns{@(+)
	\tBEGIN_ADDON_NEW_COLUMNS()\n@(+) 
	@(RepeatOnAdditionalColumnsInfo{@(+)
		\t\tWHEN_TABLE(@(TableClassName))\n@(+)
			\t\t\tADDON_COLUMNS_CLASS(@(AdditionalColumnsClassName))\n@(+)
		\t\tEND_TABLE@(+)
	, "\r\n"})@(+)
	\n\tEND_ADDON_NEW_COLUMNS()\n@(+)
})
END_ADDON_INTERFACE()
#undef _AddOn_Interface_Of

//TBWIZ-INJECT{@(LibraryName)Interface(AdditionalCode)
//TBWIZ-INJECT}